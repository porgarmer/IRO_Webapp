{% extends "base/base.html" %}

{% block content %}
    <div class="container mt-5">
        <!-- Card Layout for Rescue Details -->
        <div class="card p-4" style="max-width: 400px; margin: auto; border-radius: 15px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);">
            <!-- Picture -->
            {% if rescue.picture %}
                <img src="{{ rescue.picture.url }}" alt="{{ rescue.name }}" class="img-fluid" style="object-fit: cover; height: 300px; border-radius: 15px;">
            {% else %}
                <img src="https://via.placeholder.com/400x300" alt="No Image Available" class="img-fluid" style="object-fit: cover; height: 300px; border-radius: 15px;">
            {% endif %}

            <!-- Rescue Details -->
            <div class="card-body text-center">
                <h2 class="card-title" style="font-weight: bold; color: #343a40;">{{ rescue.name }}</h2>
                <p class="card-text" style="font-size: 1.1rem; margin-bottom: 1rem;">
                    <strong>Category:</strong>
                    {% if rescue.category %}
                        <span style="color: #343a40;">{{ rescue.category.name }}</span>
                    {% else %}
                        <span style="color: #343a40;">Uncategorized</span>
                    {% endif %}
                </p>
                <p class="card-text" style="font-size: 1rem; line-height: 1.6; color: #343a40;"> 
                    <strong>Description:</strong> {{ rescue.description|truncatewords:20 }}
                </p>
            </div>

            <!-- Footer and Action Buttons -->
            <div class="card-footer text-center bg-light" style="border-top: 1px solid #e9ecef; padding-top: 1rem;">
                <button class="btn btn-primary btn-lg" style="border-radius: 25px; padding: 0.5rem 2rem;" data-bs-toggle="modal" data-bs-target="#viewRescueModal{{ rescue.id }}">About Me</button>
            </div>
        </div>

        <!-- Back Button -->
        <div class="text-center mt-4">
            <a href="{% url 'management:adoptable_rescues' %}" class="btn btn-secondary" style="border-radius: 25px; padding: 0.5rem 2rem;">Back to Rescues</a>
        </div>

        <!-- Modal for Additional Pictures -->
        <div class="modal fade" id="viewRescueModal{{ rescue.id }}" tabindex="-1" aria-labelledby="viewRescueModalLabel{{ rescue.id }}" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="viewRescueModalLabel{{ rescue.id }}" style="font-weight: bold;">About {{ rescue.name }}</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Additional Pictures -->
                        <div class="row">
                            <div class="col-md-6 mb-4 text-center">
                                {% if rescue.additional_picture_1 %}
                                    <img src="{{ rescue.additional_picture_1.url }}" alt="Additional Picture 1" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% else %}
                                    <img src="https://via.placeholder.com/400x300" alt="No Image Available" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-4 text-center">
                                {% if rescue.additional_picture_2 %}
                                    <img src="{{ rescue.additional_picture_2.url }}" alt="Additional Picture 2" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% else %}
                                    <img src="https://via.placeholder.com/400x300" alt="No Image Available" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-4 text-center">
                                {% if rescue.additional_picture_3 %}
                                    <img src="{{ rescue.additional_picture_3.url }}" alt="Additional Picture 3" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% else %}
                                    <img src="https://via.placeholder.com/400x300" alt="No Image Available" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% endif %}
                            </div>
                            <div class="col-md-6 mb-4 text-center">
                                {% if rescue.additional_picture_4 %}
                                    <img src="{{ rescue.additional_picture_4.url }}" alt="Additional Picture 4" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% else %}
                                    <img src="https://via.placeholder.com/400x300" alt="No Image Available" class="img-fluid img-thumbnail" style="width: 100%; height: 300px; object-fit: cover; border-radius: 10px;">
                                {% endif %}
                            </div>
                        </div>
                        <p class="text-center" style="font-size: 1rem; color: #495057; line-height: 1.6;">
                            {{ rescue.description }}
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        
{% endblock %}
